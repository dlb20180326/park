webpackJsonp([47],{efhR:function(t,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=i("5enu"),n=i("UnIH"),e=i("+62G"),c=i("bFJ2"),o=(e.a,s.a,n.a,c.a,{directives:{TransferDom:e.a},components:{"r-header":s.a,Previewer:n.a,ViewBox:c.a},methods:{show:function(t){this.$refs.previewer.show(t)},showPicInfo:function(t){this.$refs.previewer2.show(t)},spread:function(){this.spr=!0,this.btnAn=!this.btnAn,this.btnPack=!this.btnPack},folding:function(){this.spr=!this.spr,this.btnAn=!this.btnAn,this.btnPack=!this.btnPack},noSpread:function(){this.noSpr=!0,this.nobtnAn=!this.nobtnAn,this.nobtnPack=!this.nobtnPack},noFolding:function(){this.noSpr=!this.noSpr,this.nobtnAn=!this.nobtnAn,this.nobtnPack=!this.nobtnPack},logIndexChange:function(t){console.log(t)},getData:function(){var t=this;this.$http.post("active/queryById?activeId="+this.$route.params.activeId).then(function(a){(t.activeData=a.data,t.contents.title=a.data.activeTypeName+"详情",t.activeNames=t.activeData.activeTypeName,t.peopleNum=t.activeData.participateCount+t.activeData.notParticipateCount,t.participants=t.activeData.participateCount,t.Noparticipants=t.activeData.notParticipateCount,t.participants>=4&&(t.btnAn=!0),t.Noparticipants>=4&&(t.nobtnAn=!0),t.activeData.picIds)&&t.activeData.picIds.split(",").forEach(function(a){if(a){var i={};i.msrc="http://www.dlbdata.cn/dangjian/picture/showThumbnail?pictureId="+a,i.src="http://www.dlbdata.cn/dangjian/picture/show?pictureId="+a,t.picList.push(i)}})}).catch(function(t){console.log(t)})},getPic:function(){var t=this;this.$http.post("active/getActivePictures?activeId="+this.$route.params.activeId).then(function(a){t.picInfo=a.data;for(var i=0;i<t.picInfo.length;i++){var s={};s.msrc="http://www.dlbdata.cn/dangjian/picture/showThumbnail?pictureId="+t.picInfo[i].pictureId,s.src="http://www.dlbdata.cn/dangjian/picture/show?pictureId="+t.picInfo[i].pictureId,t.list.push(s)}}).catch(function(t){console.log(t)})},dataPick:function(t){return Date.prototype.toLocaleString=function(){return this.getFullYear()+"年"+(this.getMonth()+1)+"月"+this.getDate()+"日"},new Date(t).toLocaleString()}},mounted:function(){this.getData(),this.getPic()},filters:{formatDuring:function(t){return""==t||null==t||void 0==t?t="无":(Date.prototype.toLocaleString=function(){var t=this.getMonth()+1;t<10&&(t="0"+t);var a=this.getDate();a<10&&(a="0"+a);var i=this.getHours();i<10&&(i="0"+i);var s=this.getMinutes();return s<10&&(s="0"+s),this.getFullYear()+"."+t+"."+a+" "+i+":"+s},new Date(t).toLocaleString())}},data:function(){return{num:0,activeData:{},picInfo:[],list:[],picList:[],spr:!1,noSpr:!1,nobtnPack:!1,nobtnAn:!1,btnPack:!1,btnAn:!1,peopleNum:null,participants:null,Noparticipants:null,activeNames:"",contents:{rights:"",title:"bbb"},roleId:this.$store.getters.user.roleid,options:{getThumbBoundsFn:function(t){var a=document.querySelectorAll(".previewer-demo-img")[t],i=window.pageYOffset||document.documentElement.scrollTop,s=a.getBoundingClientRect();return{x:s.left,y:s.top+i,w:s.width}}}}}}),r=i("18Nq");var p=function(t){i("xKM5")},l=Object(r.a)(o,function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"page-body"},[i("view-box",{ref:"viewBox",attrs:{"body-padding-top":".46rem"}},[i("r-header",{attrs:{rfs:t.contents}}),t._v(" "),i("p",{staticClass:"titles"},[t._v(t._s(t.activeData.activeName))]),t._v(" "),i("p",{staticClass:"time"},[t._v(t._s(t.activeNames)+"活动发起人："),i("span",{staticClass:"dark"},[t._v(t._s(t.activeData.activeCreatePeopleName))])]),t._v(" "),i("p",{staticClass:"time"},[t._v("活动时间："),i("span",{staticClass:"dark"},[t._v(t._s(t._f("formatDuring")(t.activeData.startTime))+"~"+t._s(t._f("formatDuring")(t.activeData.endTime)))])]),t._v(" "),i("p",{staticClass:"time"},[t._v("地点："),i("span",{staticClass:"dark"},[t._v(t._s(t.activeData.activePace))])]),t._v(" "),i("div",{staticClass:"artical"},[t._v("\n            "+t._s(t.activeData.activeContext)+"\n            \n            "),t._v(" "),i("div",{staticClass:"img-show-pic"},[t._l(t.picList,function(a,s){return i("img",{key:s,staticClass:"previewer-demo-img",attrs:{src:a.msrc},on:{click:function(a){t.showPicInfo(s)}}})}),t._v(" "),i("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[i("previewer",{ref:"previewer2",attrs:{list:t.picList,options:t.options},on:{"on-index-change":t.logIndexChange}})],1)],2)]),t._v(" "),i("p",{staticClass:"allPic"},[i("span",{staticClass:"bg-line"}),t._v(" "),i("span",{staticClass:"picture"},[t._v("活动图集")]),t._v(" "),i("span",{staticClass:"numberz"},[i("span",{staticStyle:{color:"#ff0000"}},[t._v(t._s(t.list&&t.list.length||t.num))]),t._v("张")])]),t._v(" "),i("div",{staticClass:"img-show"},[t._l(t.list,function(a,s){return i("img",{key:s,staticClass:"previewer-demo-img",attrs:{src:a.msrc},on:{click:function(a){t.show(s)}}})}),t._v(" "),i("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[i("previewer",{ref:"previewer",attrs:{list:t.list,options:t.options},on:{"on-index-change":t.logIndexChange}})],1)],2),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:4!=t.roleId,expression:"roleId != 4 "}]},[i("p",{staticClass:"allPic"},[i("span",{staticClass:"bg-line"}),t._v(" "),i("span",{staticClass:"picture"},[t._v("参与人员")]),t._v(" "),i("span",{staticClass:"numberz"},[i("span",{staticClass:"color-num"},[t._v(t._s(t.participants))]),t._v("/"+t._s(t.peopleNum))])]),i("div",{staticClass:"wz-fonts",class:[t.noSpr?"auto":""]},t._l(t.activeData.participate,function(a,s){return i("div",[i("span",{staticClass:"noPartici-title"},[t._v(t._s(s)+"：")]),t._v(" "),t._l(a,function(a,s){return i("span",{staticStyle:{display:"inline-block"}},[t._v(t._s(a.name))])})],2)})),t._v(" "),i("p"),t._v(" "),i("div",{staticClass:"wz-fonts",class:[t.spr?"auto":""]},t._l(t.activeData.participate,function(a,s){return i("span",{key:s},[t._v(t._s(a.name))])})),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.btnAn,expression:"btnAn"}],staticClass:"btnMore",on:{click:t.spread}},[t._v("查看全部参与人员名单"),i("span",{staticClass:"down"})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.btnPack,expression:"btnPack"}],staticClass:"btnMore",on:{click:t.folding}},[t._v("收起"),i("span",{staticClass:"up"})]),t._v(" "),i("p",{staticClass:"allPic"},[i("span",{staticClass:"bg-line"}),t._v(" "),i("span",{staticClass:"no-picture"},[t._v("未参与人员")]),t._v(" "),i("span",{staticClass:"numberz"},[i("span",{staticClass:"color-num"},[t._v(t._s(t.Noparticipants))]),t._v("/"+t._s(t.peopleNum))])]),t._v(" "),i("div",{staticClass:"wz-fonts",class:[t.noSpr?"auto":""]},t._l(t.activeData.notParticipate,function(a,s){return i("div",[i("span",{staticClass:"noPartici-title"},[t._v(t._s(s)+"：")]),t._v(" "),t._l(a,function(a,s){return i("span",{staticStyle:{display:"inline-block"}},[t._v(t._s(a.name))])})],2)})),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.nobtnAn,expression:"nobtnAn"}],staticClass:"btnMore",on:{click:t.noSpread}},[t._v("查看全部参与人员名单"),i("span",{staticClass:"down"})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.nobtnPack,expression:"nobtnPack"}],staticClass:"btnMore",on:{click:t.noFolding}},[i("span",{staticStyle:{"margin-left":".2rem"}},[t._v(" 收起")]),i("span",{staticClass:"up"})])])],1)],1)},[],!1,p,"data-v-0caea220",null);a.default=l.exports},xKM5:function(t,a){}});
//# sourceMappingURL=47.9f2b8180326b1a45b7bb.js.map